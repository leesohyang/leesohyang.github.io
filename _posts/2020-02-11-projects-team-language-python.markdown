---
layout: post
title:  "[자연어처리]금융 프로젝트"
subtitle:   "금융 프로젝트"
categories: projects language
tags: projects team langauge python
comments: true
---

## 개요
>멀티캠퍼스 과정 중에 수행한 프로젝트에 관한 포스팅입니다. 작성 중에 있습니다. 

- 목차  
	- [주제 선정 이유](#주제-선정-이유)
	- [프로젝트 내용](#프로젝트-내용) 
	- [데이터 전처리 및 라벨링](#데이터-전처리-및-라벨링)
	- [모델링](#모델링)
	- [결과](#결과)

## 주제 선정 이유
---

취업포털 사람인이 최근 1년간 신입사원을 채용한 기업 416개사를 대상으로 ‘입사 1년 미만 신입사원 중 퇴사자 발생 여부’를 조사한 결과에 따르면, 적성에 안 맞는 직무(59.2%), 대인관계 등 조직 부적응(26.5%), 낮은 연봉(23.8%), 적응 힘든 조직 문화(12.3%) 등이 조기 퇴사의 이유라고 합니다. 이러한 다양한 문제로 인해 본인에게 맞는 기업 선택을 위한 보다 효율적이고 정확한 기업분석 서비스의 필요성이 대두되고 있습니다.  

![screenshot](https://leesohyang.github.io/assets/img/post_img/pre0.png)

또한 실질적인 이익과 현금흐름을 창출하는 기업이 있는 반면, 겉모양은 그럴 듯 하더라도 실상 손실이 쌓여가는 기업도 있는데요. 단순히 기업의 사업 모델, 경영진 등의 비계량적 요소만 고려하는 것이 아니라 재무적인 안정성 또한 기업 분석 서비스에서 제공한다면 좋겠다는 생각이 들었습니다.  
 
## 프로젝트 내용 
---

따라서 저희가 수행한 프로젝트 내용은 `기업 추천 시스템과`, `재무 안정도 평가 시스템`, 이렇게 두가지로 나뉘었습니다.
기업 추천 모델의 경우 "복지가 좋은 기업 추천해줘"와 같은 문장이 입력되면 그에 해당하는 기업의 리스트를 평점이 높은순으로 출력합니다. 모델 학습에 사용된 데이터는 잡플래닛에서 크롤링한 기업들과, 그 기업에 해당하는 리뷰들입니다.  
다음으로 이렇게 추천된 기업에 대하여 재무적 안정도를 평가할 수 있도록 하였는데요, 재무 안정도 평가 모델은 KISVALUE와 KRX(한국거래소)에서 수집한 상장폐지된 기업과 계속상장되어있는 기업의 재무제표 계정과목에 대한 값들을 사용하여 학습시켰습니다. 
이러한 두가지 시스템을 사용자가 편리하게 사용할 수 있도록 웹페이지 또한 구축하였습니다.

`팀은 총 6명의 팀원으로 구성되었으며 저는 모델링과 데이터 전처리, 웹과 모델의 연동 부분을 맡았습니다.`

## 데이터 전처리 및 라벨링 
---
`기업 추천 시스템` 의 경우, 수집한 리뷰데이터에 대하여 a-zA-Zㄱ-ㅎ가-힣0-9 외의 문자를 제거하였고 후에 라벨링을 하기 위해 토픽모델링을 사용하였습니다. 

![screenshot](https://leesohyang.github.io/assets/img/post_img/pre1.png)

각 토픽에는 단어 하나만 있는 것이 아니라 여러 단어가 모여 토픽을 이루고 있습니다.
TF-IDF시 N-gram을 활용했을 때 여러 문장이 붙게 되면 서로 다른 내용의 문장의 시작과 끝이 붙게 되어 노이즈가 생길 것 같았으나 한 단어만 보는 Uni-gram 보다 Bi-gram(2개 단어), Tri-gram(3개 단어)이 더 좋은 성능을 보여주었습니다. 토픽모델링을 수행한 결과 각 토픽에 속하는 Bi-gram 상위 20개는 다음과 같았습니다. 

![screenshot](https://leesohyang.github.io/assets/img/post_img/pre2.PNG)

모델 학습에 사용한 데이터는 가장 높은 토픽의 비중이 90%이상인 데이터들만 사용하였습니다. 이는 라벨링을 토픽모델링을 사용하여 자동으로 수행하다보니 일반화가 어려울 수 있었기 때문입니다. 

![screenshot](https://leesohyang.github.io/assets/img/post_img/pre3.PNG)

아래 그림은 LDA 토픽모델링을 시각화 한 것입니다. 왼쪽은 단어가 발생 할 확률을 PCA를 적용하여 2차원 벡터로 압축한 후 각 토픽의 클러스터가 좌표공간에 어떻게 분포되어 있는지를 보여줍니다.
오른쪽의 빨간 막대는 해당 토픽과 관련된 상위 30개 단어들을 보여주고 있습니다.

![screenshot](https://leesohyang.github.io/assets/img/post_img/pre4.png)


`재무 안정도 평가 시스템`의 전처리는 KISVALUE에서 수집한 기업 재무제표의 PBR, PER, 등의 단위가 원화이므로, 좀더 작은 단위로 정규화 시킬 필요가 있었습니다.  

## 모델링
---

리뷰문장와 그 문장이 나타내고 있는 기업의 장점(label)을 학습하기 위하여 시도한 모델들은 다음과 같습니다. 